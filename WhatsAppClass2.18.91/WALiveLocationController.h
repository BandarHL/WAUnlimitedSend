//
//     Generated by class-dump 3.5 (64 bit) (Debug version compiled Nov  9 2017 20:17:28).
//
//     class-dump is Copyright (C) 1997-1998, 2000-2001, 2004-2015 by Steve Nygard.
//

#import <Core/WAChatDataStoreCoordinator.h>

#import "CLLocationManagerDelegate-Protocol.h"
#import "WALocationSourceDelegate-Protocol.h"

@class CLLocation, NSDate, NSMutableDictionary, NSMutableSet, NSString, NSTimer, NSUserDefaults, WAChatManager, WALiveLocationReportingSession, WALocationSource, WALocationStorage, WALocationSubscription, WAMessagingService, WAPersistentRequestManager, WARateLimitedOperation, WARollingWindow, WASignalManager, WAWeakTimer, XMPPConnectionMain, XMPPNotificationStanza;

__attribute__((visibility("hidden")))
@interface WALiveLocationController : WAChatDataStoreCoordinator <CLLocationManagerDelegate, WALocationSourceDelegate>
{
    NSMutableDictionary *_retryCountForRecipient;
    WARateLimitedOperation *_sendRetryRateLimit;
    WARateLimitedOperation *_requestRetryRateLimit;
    WARateLimitedOperation *_locationUpdateRateLimit;
    XMPPNotificationStanza *_unackedKeyDistributionNotification;
    NSMutableDictionary *_unackedRetryKeyDistributionNotifications;
    WAWeakTimer *_stopReportingTimer;
    NSMutableSet *_retryDeniedFrom;
    WARollingWindow *_reportingRollingWindow;
    WARollingWindow *_sharingRollingWindow;
    long long _backoffStage;
    WALiveLocationReportingSession *_reportingSession;
    _Bool _sendPushBackoffWhenPossible;
    NSMutableSet *_subscribedToLocationUpdatesFrom;
    NSMutableSet *_webClientSubscribedToLocationUpdatesFrom;
    long long _reportLocationCount;
    double _pushBackoff;
    NSTimer *_finalLocationExpiredTimer;
    WALocationSubscription *_locationSourceSubscription;
    _Bool _scheduleUpdateLatestLocation;
    _Bool _haveLocationSubscribers;
    WAChatManager *_chatManager;
    WALocationStorage *_locationStorage;
    WAMessagingService *_messagingService;
    WAPersistentRequestManager *_persistentRequestManager;
    WASignalManager *_signalManager;
    NSUserDefaults *_userDefaults;
    XMPPConnectionMain *_xmppConnection;
    CLLocation *_lastReportedLocation;
    NSString *_lastReprotedLocationSource;
    NSDate *_reportingLocationEndDate;
    WALocationSource *_locationSource;
}

@property(retain, nonatomic) WALocationSource *locationSource; // @synthesize locationSource=_locationSource;
@property(retain, nonatomic) NSDate *reportingLocationEndDate; // @synthesize reportingLocationEndDate=_reportingLocationEndDate;
@property(copy) NSString *lastReprotedLocationSource; // @synthesize lastReprotedLocationSource=_lastReprotedLocationSource;
@property(nonatomic) _Bool haveLocationSubscribers; // @synthesize haveLocationSubscribers=_haveLocationSubscribers;
@property(retain) CLLocation *lastReportedLocation; // @synthesize lastReportedLocation=_lastReportedLocation;
@property(readonly, nonatomic) XMPPConnectionMain *xmppConnection; // @synthesize xmppConnection=_xmppConnection;
@property(readonly, nonatomic) NSUserDefaults *userDefaults; // @synthesize userDefaults=_userDefaults;
@property(readonly, nonatomic) WASignalManager *signalManager; // @synthesize signalManager=_signalManager;
@property(readonly, nonatomic) WAPersistentRequestManager *persistentRequestManager; // @synthesize persistentRequestManager=_persistentRequestManager;
@property(readonly, nonatomic) WAMessagingService *messagingService; // @synthesize messagingService=_messagingService;
@property(readonly, nonatomic) WALocationStorage *locationStorage; // @synthesize locationStorage=_locationStorage;
@property(readonly, nonatomic) WAChatManager *chatManager; // @synthesize chatManager=_chatManager;
- (void).cxx_destruct;
- (void)registerHandlersForPersistentRequestManager:(id)arg1;
- (id)sharedObjectKeyForPersistentRequestManager:(id)arg1;
- (void)unsubscribeFromLocationUpdatesForWebClient;
- (void)unsubscribeFromLocationUpdatesFromContactJID:(id)arg1 forWebClient:(_Bool)arg2 webClientRequestID:(id)arg3 completion:(CDUnknownBlockType)arg4;
- (void)subscribeToLocationUpdatesFromContactJID:(id)arg1 forWebClient:(_Bool)arg2 reportParticipants:(_Bool)arg3 includeMessageInParticipantInfo:(_Bool)arg4 completion:(CDUnknownBlockType)arg5;
- (void)processIncomingLocationNotification:(id)arg1 completion:(CDUnknownBlockType)arg2;
- (void)handleUserDisabledLocationSharingNotification:(id)arg1 completion:(CDUnknownBlockType)arg2;
- (void)willSubmitDailyStats:(id)arg1;
- (void)userDidLeaveGroup:(id)arg1;
- (void)checkForLocationKeyEligibilityChange:(id)arg1;
- (void)locationSharingDidEnd:(id)arg1;
- (void)e2eIdentityChanged:(id)arg1;
- (void)willRevokeMessages:(id)arg1;
- (void)xmppConnectionStateDidChange:(id)arg1;
- (void)willDeleteMessages:(id)arg1;
- (void)stopLocationSharingInAllChats;
- (void)applicationWillResignActive:(id)arg1;
- (void)addLocationRecipientsToStorageForChatNamed:(id)arg1 messageID:(id)arg2 endDate:(id)arg3;
- (double)locationSourceDesiredAccuracy:(id)arg1;
- (void)locationSource:(id)arg1 didChangeAuthorization:(int)arg2;
- (void)locationSource:(id)arg1 didUpdateLocations:(id)arg2;
- (id)descriptionForLocationSource:(id)arg1;
- (_Bool)shouldReportLocation:(id)arg1 source:(id)arg2;
- (void)locationSource:(id)arg1 didFailWithError:(id)arg2;
- (void)didLogSharingTerminationForMessage:(id)arg1;
- (_Bool)locationSharingDidEndForMessage:(id)arg1 reason:(long long)arg2;
- (double)locationSharingDurationForMessage:(id)arg1;
- (_Bool)locationSharingDidEndForChatSession:(id)arg1 reason:(long long)arg2;
- (id)currentLocationSharingMessageFromMeInChatSession:(id)arg1;
- (void)rescheduleTimerForExpiringFinalLiveLocationRecipients;
- (void)finalLocationRecipientsDidExpire:(id)arg1;
- (void)checkForSharingEnded;
- (void)startErasingExpiredCachedLocationMessages;
- (void)didChangeDataStoreReadiness;
- (_Bool)enterOrLeaveSharingRollingWindow;
- (void)scheduleAdditionalExpirationTimerIfNeededForMessage:(id)arg1;
- (void)scheduleExpirationTimerForMessage:(id)arg1;
- (void)locationSharingWillExpireSoonish:(id)arg1;
- (void)locationSharingExpired:(id)arg1;
- (void)didSendLiveLocationMessage:(id)arg1 timeToGetLocation:(double)arg2;
- (void)didCancelSendOfLiveLocationMessage:(id)arg1;
- (void)sharingDidEndWithDuration:(double)arg1 reason:(long long)arg2 message:(id)arg3;
- (void)willSendWithDuration:(double)arg1 entrypoint:(long long)arg2;
- (void)sendPushBackoffRequest:(double)arg1 completion:(CDUnknownBlockType)arg2;
- (void)setPushBackoff:(double)arg1;
- (void)updatePushBackoff;
- (void)stopReportingSession;
- (void)startReportingSession;
- (_Bool)requestLocationRetryFrom:(id)arg1 retryCount:(long long)arg2 chatJID:(id)arg3 messageID:(id)arg4;
- (void)sanityCheckFinalLocationChatJID:(id)arg1 messageID:(id)arg2;
- (void)completeRetryMessageTaskForParticipant:(id)arg1;
- (void)didEncryptForRetryWithFanout:(id)arg1 intendedRecipient:(id)arg2 result:(id)arg3 retryCount:(long long)arg4 error:(id)arg5;
- (void)addAndSendRetryForParticipant:(id)arg1 retryCount:(unsigned long long)arg2;
- (void)handleRetryFromParticipant:(id)arg1 recipientRegistrationId:(id)arg2 retryCount:(unsigned long long)arg3;
- (void)sendFinalLocationWithCiphertextPayload:(id)arg1 participant:(id)arg2 chatJID:(id)arg3 messageID:(id)arg4 retryCount:(long long)arg5;
- (void)sendFinalRetryForParticipant:(id)arg1 forChat:(id)arg2 messageID:(id)arg3 retryCount:(unsigned long long)arg4;
- (void)handleFinalRetryFromParticipant:(id)arg1 recipientRegistrationId:(id)arg2 retryCount:(unsigned long long)arg3 chatJID:(id)arg4 messageID:(id)arg5;
- (void)sendRetryDenyToParticipant:(id)arg1;
- (_Bool)shouldRequestRetriesFrom:(id)arg1;
- (id)myCachedLocationInChat:(id)arg1;
- (void)setLocationEndDateToNowForMessageWithUniqueKey:(id)arg1 participant:(id)arg2 inChat:(id)arg3;
- (void)updateMessageForParticipant:(id)arg1 whoDidStopSharingInChat:(id)arg2;
- (void)retryStopSharingRequests;
- (void)unconditionallyTellServerToStopSharingWithContact:(id)arg1 requestID:(id)arg2 webClientRequestID:(id)arg3 completion:(CDUnknownBlockType)arg4;
- (void)tellServerToStopSharingWithContact:(id)arg1 requestID:(id)arg2 webClientRequestID:(id)arg3 completion:(CDUnknownBlockType)arg4;
- (void)checkLocationEligibilityOfParticipants:(id)arg1 completion:(CDUnknownBlockType)arg2;
- (void)reallySendLiveLocationUntil:(id)arg1 duration:(double)arg2 comment:(id)arg3 sender:(id)arg4 entrypoint:(long long)arg5 contact:(id)arg6 initialLocation:(id)arg7 completion:(CDUnknownBlockType)arg8;
- (void)reallyStopSharingLocationWithContact:(id)arg1 message:(id)arg2 userOriginatedCancel:(_Bool)arg3 webClientRequestID:(id)arg4 completion:(CDUnknownBlockType)arg5;
- (void)beginSharingLocationUntil:(id)arg1 duration:(double)arg2 comment:(id)arg3 forContactJID:(id)arg4 initialLocation:(id)arg5 sender:(id)arg6 entrypoint:(long long)arg7 completion:(CDUnknownBlockType)arg8;
- (void)stopSharingLocationInMessage:(id)arg1 contact:(id)arg2 userOriginatedCancel:(_Bool)arg3 webClientRequestID:(id)arg4 completion:(CDUnknownBlockType)arg5;
- (void)stopSharingLocationWithContactJID:(id)arg1 userOriginatedCancel:(_Bool)arg2 webClientRequestID:(id)arg3 completion:(CDUnknownBlockType)arg4;
- (void)stopSharingLocationWithContactJID:(id)arg1 userOriginatedCancel:(_Bool)arg2;
- (id)locationKeyDistributionStanzaForPayload:(id)arg1 retryCount:(long long)arg2;
- (void)sendLocationKeyDistributionNotificationToParticipant:(id)arg1 encryptResult:(id)arg2 retryCount:(long long)arg3;
- (void)sendLocationKeyDistributionNotificationTo:(id)arg1;
- (void)processDecryptedLocationUpdate:(id)arg1 elapsed:(int)arg2 from:(id)arg3 completion:(CDUnknownBlockType)arg4;
- (void)processDecryptedFinalLocationUpdate:(id)arg1 from:(id)arg2 chatJID:(id)arg3 messageID:(id)arg4;
- (void)performSaveAllDataStores;
- (void)updateLatestLocation:(id)arg1 forMessageUniqueKey:(id)arg2 elapsed:(double)arg3;
- (void)updateFinalLocation:(id)arg1 forMessage:(id)arg2 inChat:(id)arg3 from:(id)arg4;
- (_Bool)shouldAcceptFinalLocationWithTimeOffset:(double)arg1 forMessageWithTimeOffset:(double)arg2;
- (void)decryptRequestDidComplete:(id)arg1 forParticipant:(id)arg2 chatJID:(id)arg3 messageID:(id)arg4 error:(id)arg5;
- (void)decryptLocationRequest:(id)arg1 from:(id)arg2 chatJID:(id)arg3 messageID:(id)arg4 completion:(CDUnknownBlockType)arg5;
- (void)decryptLocation:(id)arg1 from:(id)arg2 chatJID:(id)arg3 completion:(CDUnknownBlockType)arg4;
- (id)finalLocationNotificationWithCiphertextStanza:(id)arg1 chatJID:(id)arg2 retry:(_Bool)arg3 messageID:(id)arg4;
- (void)sendLiveLocationUpdateWithCiphertext:(id)arg1 timestamp:(id)arg2 xmppConnection:(id)arg3 completion:(CDUnknownBlockType)arg4;
- (id)liveLocationIBWithCiphertextPayload:(id)arg1 timestamp:(id)arg2;
- (void)didEncryptLocationWithFanout:(id)arg1 ciphertext:(id)arg2 timestamp:(id)arg3 finalInfo:(id)arg4 completion:(CDUnknownBlockType)arg5;
- (id)liveLocationMessageInChat:(id)arg1;
- (void)handleFinalLocationUpdateOrRetryResponse:(id)arg1 completion:(CDUnknownBlockType)arg2;
- (void)handleKeyDistributionMessage:(id)arg1 completion:(CDUnknownBlockType)arg2;
- (void)handleRetryDeny:(id)arg1 completion:(CDUnknownBlockType)arg2;
- (void)reportLocation:(id)arg1 completion:(CDUnknownBlockType)arg2;
- (void)reportFinalLocation:(id)arg1 message:(id)arg2 withInfo:(id)arg3 completion:(CDUnknownBlockType)arg4;
- (double)timeSinceStartForMessage:(id)arg1;
- (void)handleLocationUpdate:(id)arg1 from:(id)arg2 chatJID:(id)arg3 completion:(CDUnknownBlockType)arg4;
- (void)remotePushDidArriveWithTimestamp:(id)arg1;
- (void)handleRetry:(id)arg1 completion:(CDUnknownBlockType)arg2;
- (void)groupMembershipDidGrow:(id)arg1;
- (void)setLocationSharingEndDate:(id)arg1 lastUpdate:(id)arg2 forParticipant:(id)arg3 inChat:(id)arg4 completion:(CDUnknownBlockType)arg5;
- (void)didReceiveChatWithLiveLocationEndDate:(id)arg1 lastUpdate:(id)arg2 messageUniqueKey:(id)arg3 sequenceNumber:(long long)arg4 forParticipant:(id)arg5 inChat:(id)arg6 latitude:(float)arg7 longitude:(float)arg8 protobufMessage:(id)arg9 message:(id)arg10;
- (void)didReceiveChatWithLocationMessage:(id)arg1;
- (void)sendFinalLocationForMessage:(id)arg1 chatJID:(id)arg2 before:(id)arg3;
- (_Bool)maybeSendFinalLocationForMessage:(id)arg1;
- (id)finalLocationContextForChatWithJID:(id)arg1;
- (void)deleteAllState;
- (void)didBlockParticipant:(id)arg1;
- (void)willChangeNumber;
- (id)locationSenderWithJID:(id)arg1 inChat:(id)arg2;
- (_Bool)anyChatSet:(id)arg1 containsNoActiveChats:(id)arg2;
- (void)partitionChats:(id)arg1 intoActive:(out id *)arg2 inactive:(out id *)arg3;
- (void)senderDidDisableLocationSharing:(id)arg1;
- (void)userDisabledLocationSharing:(id)arg1 inChat:(id)arg2 sequenceNumber:(long long)arg3 completion:(CDUnknownBlockType)arg4;
- (void)stopSendingLocationUpdates;
- (void)startSendingLocationUpdatesForDuration:(double)arg1;
- (_Bool)canShareWithJIDs:(id)arg1;
- (id)prospectiveRecipientsForChatSession:(id)arg1;
- (id)locationSharingEndDateForContact:(id)arg1;
@property(readonly, nonatomic) long long backoffStage;
- (void)dealloc;
- (id)initWithChatDataStores:(id)arg1 chatManager:(id)arg2 locationStorage:(id)arg3 messagingService:(id)arg4 persistentRequestManager:(id)arg5 signalManager:(id)arg6 userDefaults:(id)arg7 xmppConnection:(id)arg8;

// Remaining properties
@property(readonly, copy) NSString *debugDescription;
@property(readonly, copy) NSString *description;
@property(readonly) unsigned long long hash;
@property(readonly) Class superclass;

@end

